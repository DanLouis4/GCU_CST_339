<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/defaultTemplate}">
<head>
    <title>Speed-E-Eats - Restaurant Admin</title>
</head>
<body>
<section layout:fragment="content">

    <!-- Page Header -->
	<!-- HERO SECTION -->
	<div class="container-fluid p-0 m-0">
	    <div class="hero" th:style="'background-image: url(' + ${restaurant.imageURL} + ');'">

			<!-- BREADCRUMB NAVIGATION -->
			<div class="text-center position-relative">
			    <p class="text-white fs-6 mb-0 py-2"
			       style="background-color: rgba(0,0,0,0.25); border-radius: 0;">
			        / <a th:href="@{/home}" class="text-white">home</a>
			        / <a th:href="@{/restaurantmanager}" class="text-white">restaurant manager</a>
			        <span th:text="' / ' + ${restaurant.name} + ' Menu Admin'"></span>
			    </p>
			</div>
			
			<!-- HERO CONTENT-->				 
	        <div class="hero-content text-white pb-2">
	            <h1 class="display-5 fw-bold mx-auto px-4 py-2 w-75 w-md-50" th:text="${restaurant.name} + ' Menu Admin'">Restaurant Name</h1>
	            <p class="mx-auto px-4 py-2 w-75 w-md-50">★ 4.5 (200+) • 25–30 min</p>
	            <div class="mx-auto px-4 py-2 w-75 w-md-50">
	                <p class="mb-0 small" th:text="${restaurant.description}">
	                    Delicious handcrafted dishes made fresh daily.
	                </p>
	            </div>
	        </div>
	    </div>
	</div>

	<div class="container">
		<div>
			<p class="mt-0 p-0 text-center">
				<span th:text="${restaurant.address}">Address</span>&nbsp;★&nbsp;
				<span th:text="${restaurant.phone}">Phone</span>
			</p>	
		</div> 

    <!-- Success Notifications -->
    <div th:if="${successMessage}" class="alert alert-success mt-3" role="alert">
        <span th:text="${successMessage}">Product was added successfully!</span>
    </div>

    <div th:if="${updateMessage}" class="alert alert-info mt-3" role="alert">
        <span th:text="${updateMessage}">Product was updated successfully!</span>
    </div>

    <div th:if="${deleteMessage}" class="alert alert-danger mt-3" role="alert">
        <span th:text="${deleteMessage}">Product was deleted successfully!</span>
    </div>

	<!-- PRODUCTS GRID-->
	<div class="menu-grid">
	    <div class="menu-card" th:each="product : ${products}">
	        <img th:src="${product.imageURL}" alt="Product Image">
	        <div class="card-body d-flex flex-column justify-content-between">
	            <div>
	                <h5 class="card-title text-capitalize" th:text="${product.name}">Product Name</h5>
	                <p class="card-text" th:text="${product.description}">
	                    Description of the product goes here.
	                </p>
	            </div>
	            <div>
	                <p class="price mt-2" th:text="'$' + ${product.price}">PRICE</p>
	                <div class="admin-buttons">
	                    <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn btn-sm btn-warning">Edit</a>
	                    <form th:action="@{/product/delete/{id}(id=${product.id})}" method="post" style="display:inline;">
	                        <input type="hidden" th:name="restaurantId" th:value="${restaurantId}" />
	                        <button type="submit" class="btn btn-sm btn-danger">Delete</button>
	                    </form>
	                </div>
	            </div>
	        </div>
	    </div>
	</div>

	<div class="mt-4 mb-4 text-center">
	    <a th:href="@{'/products/new/' + ${restaurantId}}" class="btn btn-success me-2">+ Add New Product</a>
	    <a th:href="@{'/restaurantmenu/' + ${restaurantId}}" class="btn btn-outline-primary">View Restaurant Menu</a>
	</div>

</section>
</body>
</html>
